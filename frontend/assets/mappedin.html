<!-- 
  This HTML file is used to embed a Mappedin map for indoor navigation. 
  It includes a 3D map rendered using the Mappedin JavaScript SDK. 
  The file dynamically loads API keys and map data, and provides UI elements 
  for selecting start and destination points, as well as displaying directions.
-->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=no"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/@mappedin/mappedin-js@beta/lib/index.css"
      rel="stylesheet"
    />
    <style>
      * {
        margin: 0;
        padding: 0;
        font-family: Arial, sans-serif;
        overscroll-behavior: contain;
      }
      html,
      body {
        width: 100%;
        height: 100%;
        overflow: hidden;
        position: fixed;
        touch-action: none;
      }
      #mappedin-map {
        height: 100%;
        width: 100%;
        position: absolute;
        top: 0;
        left: 0;
      }

      #route-panel {
        position: absolute;
        top: 10px;
        transform: none;
        width: 240px;
        background: white;
        padding: 10px;
        border-radius: 10px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        z-index: 1000;
        left: 10px;
      }

      .panel-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 10px;
      }

      .panel-header h2 {
        margin: 0;
        font-size: 16px;
        font-weight: bold;
      }

      #level-panel {
        position: static;
        width: auto;
        background: transparent;
        padding: 0;
        box-shadow: none;
        z-index: auto;
        text-align: right;
      }

      #level-panel label {
        font-size: 10px;
        font-weight: bold;
        display: inline;
        margin-right: 5px;
      }

      #floor-select {
        width: 80px;
        padding: 3px;
        border: 1px solid #ddd;
        border-radius: 5px;
        font-size: 10px;
        height: 22px;
      }

      #route-panel label {
        font-size: 12px;
        font-weight: bold;
        display: block;
        margin-top: 5px;
      }
      select {
        width: 100%;
        padding: 6px;
        margin: 3px 0;
        border: 1px solid #ddd;
        border-radius: 5px;
        font-size: 12px;
        height: 30px;
        line-height: 1.2;
      }
      button {
        background-color: #912338;
        color: white;
        font-weight: bold;
        cursor: pointer;
        margin-top: 5px;
        width: 100%;
        padding: 8px;
        border: none;
        border-radius: 5px;
        font-size: 14px;
        outline: none;
        -webkit-tap-highlight-color: transparent;
        user-select: none;
      }

      button:hover {
        background: #912338;
      }

      #directions-panel {
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        background: white;
        padding: 10px;
        border-radius: 15px 15px 0 0;
        box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.2);
        transition: transform 0.3s ease-out, height 0.3s ease-out;
        text-align: center;
        z-index: 900;
      }
      #drag-handle {
        width: 50px;
        height: 5px;
        background: #ddd;
        border-radius: 5px;
        margin: 5px auto;
        cursor: grab;
      }
      #directions-list {
        max-height: 250px;
        overflow-y: auto;
        background: white;
      }
      .direction-step {
        padding: 8px;
        border-bottom: 1px solid #ddd;
        font-size: 12px;
        display: flex;
        align-items: center;
        background: white;
      }
      .direction-step img {
        width: 18px;
        height: 18px;
        margin-right: 8px;
      }

      #toggle-steps {
        background: #912338;
        color: white;
        padding: 10px;
        width: 90%;
        max-width: 300px;
        text-align: center;
        border-radius: 5px;
        font-size: 14px;
        font-weight: bold;
        cursor: pointer;
        margin: 10px auto;
        display: block;
      }
      /* Route Info */
      #route-info {
        text-align: center;
        padding: 8px;
        font-size: 12px;
        font-weight: bold;
        background: white;
      }

      select {
        color: #912338 !important;
      }

      select::-ms-expand {
        display: none;
      }

      select:focus {
        outline: none !important;
        border-color: #781c2c !important;
      }

      option {
        color: #912338 !important;
      }
    </style>
    <title>Mappedin Navigation</title>
  </head>
  <body>
    <div id="mappedin-map"></div>
    <div id="route-panel">
      <div class="panel-header">
        <h2>Mappedin Map</h2>
        <div id="level-panel">
          <label for="floor-select">Floor:</label>
          <select id="floor-select">
            <option value="">Select floor</option>
          </select>
        </div>
      </div>
    </div>


    <script type="module">
    JAVASCRIPTCODE
    </script>

  </body>
</html>
